<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classifier</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.0.0/p5.min.js"></script>
    <script src="https://unpkg.com/ml5@latest/dist/ml5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
</head>
<body>
    <div class="container">

        <div class="header">
            <h1>Image Classifier</h1>
        </div>

        <div class="content">
            <div class="column">
                <img src="images/check.png" id="right">
            </div>
            <div class="column">
                <img src="images/cancel.png" id="wrong">
            </div>
        </div>

        <div class="content">
            <div class="diagram">
                <img id="LeftDiagram">
            </div>
            <div class="column">
                <img src="images/rightcat1.jpg" id="Image1">
                <img src="images/rightcat2.jpg" id="Image2">
                <img src="images/rightcat3.jpg" id="Image3">
            </div>
            <div class="column">
                <img src="images/wrongcat1.jpg" id="Image5">
                <img src="images/wrongcat2.png" id="Image6">
                <img src="images/wrongcat3.jpg" id="Image7">
            </div>
            <div id="exampleChartArea">
                <canvas id="exampleChart"></canvas>
            </div>
        </div>

        <div class="footer">
            <div class="input-div">
                <label for="input-file" id="drop-area">
                    <input type="file" accept="image/jpeg, image/png, image/jpg" id="input-file" hidden>
                    <div id="img-view">
                        <img src="images/arrow.png" id="uploadIcon">
                        <p>Drag and drop or click here<br> to upload image</p>
                        <span>Upload any image from desktop</span>
                    </div>
            
                    <div>
                        <p id="classification"></p>
                    </div>
                    <div>
                        <p id="probability"></p>
                    </div>
                </label>
              </div>
              <div id="chartArea">
                <canvas id="myChart"></canvas>
              </div>
        </div>

        <div class="footer2">
            <div>
                <button class="button" id ="classifyButton" disabled="true" onclick="classifyCustomImage()">
                    <div class="loader" id="loader"></div>
                    <div id="buttonText">Waiting for ml5</div>
                </button>
            </div>
        </div>

        <div class="discussion">
            <b>
                Discussion
            </b>
            <p>In my exploration of AI image classification, I focused on cat images to delineate the boundaries of pre-trained AI. 
                Standard cat images were consistently well identified, especially those with intricate details or distinct patterns and colors. 
                Notably, clear confidence values were evident, with secondary and tertiary classifications often falling within the feline category.

                However, challenges arose, particularly with images featuring black cats. Presumably, the lack of contrast associated with black fur posed difficulties for the AI in recognizing feline features. 
                </p>
                <p>
                    Additionally, when cats appeared distant within an image, the AI struggled with identification. Furthermore, the posture and form of the cat played a significant role. 
                    Unconventional positions led to misclassifications, favoring objects or animals with similar shapes. 
                    Even distinctive and atypical cat appearances, such as those of wrinkled hairless breeds, resulted in misinterpretations; in one instance, an oxygen mask was mistakenly inferred by the AI instead of recognizing the cat as a living subject.
                </p>
                <p>
                    Through this investigation, it becomes evident that while AI excels in certain contexts, its performance can falter with variations in color, distance, and posture, highlighting areas for potential improvement in image classification algorithms.
                </p>
        </div>

        <div class="documentation">
            <b>
                Technical Documentation
            </b>
            <p>
                <ul>
                    <li>Hosting with Github Pages</li>
                    <li>Visual Code for implementation</li>
                    <li>Chrome as web browser</li>
                    <li>Ml5 and p5 like in the task description</li>
                  </ul>
            </p>
            <p>
                <b>
                    Frameworks
                </b>
            </p>
            <p>Chart.js: I utilized the Chart.js library to generate diagrams, which comes with various built-in features like tooltips and labels. 
                One challenge I encountered was figuring out how to adjust the rotation of axis labels and formatting, such as line breaks at commas, particularly when dealing with extensive and numerous classifications, as it could quickly lead to cluttered visuals. 
                However, these issues were resolved by configuring the chart options.</p>
            <p>
                Ml5 classify: Another issue arose when the ML5 classification did not run smoothly from the start. 
                Initially, the classifier had to be initialized through a preload function. Although there is a return object indicating that the loading process is complete, I opted for a slightly different approach. 
                At the outset, I load a default image and attempt classification on it. However, I only receive a response once the classifier has finished loading. 
                This initialization process occurs only at the beginning, and upon receiving feedback, the interface (in my case, the Classify button) can be activated. Meanwhile, a small loading indicator is displayed.
            </p>
            <p>
                Otherwise, my code is very simple and straightforward. I played with the layout a bit. 
                Since a requirement was that the sample images must be arranged vertically, which would take up a lot of space, I found a way to shrink the sample images and enlarge them only upon hovering. 
                Now, upon hovering, an enlargement and the current classification are displayed, while the other sample images are hidden.
            </p>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>
